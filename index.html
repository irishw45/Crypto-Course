import { useState } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { motion } from 'framer-motion';
import {
  BookOpen,
  Terminal,
  Lock,
  TrendingUp,
  ShieldCheck,
  Activity,
  Compass,
  Repeat,
  FileText,
  UserCheck,
  Menu
} from 'lucide-react';

const lessons = [
  {
    title: 'Lesson 1: Intro to Trading & Markets',
    icon: <TrendingUp className="w-6 h-6 text-cyan-400" />,
    terms: ['Trading', 'Market Liquidity', 'Volatility', 'Investing', 'Exchange'],
    summary:
      'Understand what trading is, how financial markets work, and why crypto is different.',
  },
  {
    title: 'Lesson 2: Crypto & Blockchain',
    icon: <Terminal className="w-6 h-6 text-purple-400" />,
    terms: ['Cryptocurrency', 'Blockchain', 'Decentralization', 'Altcoins', 'Bitcoin'],
    summary:
      'Dive into what crypto is, how blockchain works, and why it matters to traders.',
  },
  {
    title: 'Lesson 3: Technical Analysis 101',
    icon: <BookOpen className="w-6 h-6 text-pink-400" />,
    terms: ['Candlestick Patterns', 'Moving Averages', 'RSI', 'MACD', 'Support & Resistance'],
    summary:
      'Learn to read charts, indicators, and use TA to find entries and exits.',
  },
  {
    title: 'Lesson 4: Fundamental Analysis',
    icon: <ShieldCheck className="w-6 h-6 text-green-400" />,
    terms: ['Tokenomics', 'Whitepaper', 'Supply & Demand', 'Market Cap', 'Roadmap'],
    summary:
      'Explore what makes a crypto valuable beyond just price charts.',
  },
  {
    title: 'Lesson 5: Risk Management & Psychology',
    icon: <Activity className="w-6 h-6 text-orange-400" />,
    terms: ['Risk Management', 'Stop-Loss', 'Position Sizing', 'Risk-to-Reward Ratio', 'Trading Psychology'],
    summary:
      'Control risk, size your trades, and master emotions for long-term success.',
  },
  {
    title: 'Lesson 6: Trading Strategies & Backtesting',
    icon: <Repeat className="w-6 h-6 text-blue-400" />,
    terms: ['Scalping', 'Swing Trading', 'Position Trading', 'Backtesting', 'Trading Strategy'],
    summary:
      'Explore different strategies and how to test them before risking real capital.',
  },
  {
    title: 'Lesson 7: Order Types & Market Mechanics',
    icon: <Compass className="w-6 h-6 text-emerald-400" />,
    terms: ['Market Order', 'Limit Order', 'Stop-Loss', 'Take-Profit', 'Slippage'],
    summary:
      'Understand the different order types and how trades get executed.',
  },
  {
    title: 'Lesson 8: Leverage & Margin Trading',
    icon: <TrendingUp className="w-6 h-6 text-yellow-400" />,
    terms: ['Leverage', 'Margin', 'Liquidation', 'Collateral', 'Risk Exposure'],
    summary:
      'Learn how margin and leverage work â€” and when not to use them.',
  },
  {
    title: 'Lesson 9: Security & Avoiding Scams',
    icon: <Lock className="w-6 h-6 text-red-400" />,
    terms: ['Wallet', 'Private Key', 'Phishing', 'Rug Pull', 'Two-Factor Authentication'],
    summary:
      'Keep your crypto safe with proper wallet use and scam awareness.',
  },
  {
    title: 'Lesson 10: Building a Trading Plan',
    icon: <FileText className="w-6 h-6 text-sky-400" />,
    terms: ['Trading Plan', 'Trading Journal', 'Strategy Optimization', 'Performance Tracking', 'Community Learning'],
    summary:
      'Create your personalized trading system and next steps to go pro.',
  },
];

export default function CryptoCourse() {
  const [selectedLesson, setSelectedLesson] = useState(null);

  return (
    <div className="flex bg-black text-white min-h-screen">
      <div className="w-64 bg-zinc-900 border-r border-zinc-700 p-4 space-y-4">
        <h2 className="text-xl font-bold text-cyan-400 mb-4">ðŸ“š Crypto 101</h2>
        {lessons.map((lesson, index) => (
          <Button
            key={index}
            variant="ghost"
            className={`w-full justify-start text-left ${selectedLesson === index ? 'bg-cyan-800' : ''}`}
            onClick={() => setSelectedLesson(index)}
          >
            {lesson.title}
          </Button>
        ))}
      </div>

      <div className="flex-1 p-6">
        {!selectedLesson && selectedLesson !== 0 && (
          <>
            <h1 className="text-4xl font-bold text-cyan-400 mb-6 text-center">Crypto Trading 101</h1>
            <p className="text-center text-gray-400 max-w-2xl mx-auto mb-12">
              Interactive learning experience for crypto newcomers. Click a lesson to explore.
            </p>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
              {lessons.map((lesson, index) => (
                <motion.div
                  whileHover={{ scale: 1.05 }}
                  whileTap={{ scale: 0.97 }}
                  key={index}
                  onClick={() => setSelectedLesson(index)}
                >
                  <Card className="bg-zinc-900 border border-cyan-700 hover:border-purple-600 cursor-pointer transition duration-200">
                    <CardContent className="p-4">
                      <div className="flex items-center space-x-3 mb-2">
                        {lesson.icon}
                        <h2 className="text-lg font-semibold text-white">{lesson.title}</h2>
                      </div>
                      <p className="text-gray-400 text-sm">{lesson.summary}</p>
                    </CardContent>
                  </Card>
                </motion.div>
              ))}
            </div>
          </>
        )}

        {selectedLesson !== null && (
          <div className="mt-6 max-w-3xl mx-auto bg-zinc-800 p-6 rounded-2xl border border-cyan-700 shadow-md">
            <h2 className="text-2xl font-bold text-cyan-400 mb-2">{lessons[selectedLesson].title}</h2>
            <p className="text-gray-300 mb-4">{lessons[selectedLesson].summary}</p>
            <h3 className="text-lg font-semibold text-purple-400 mb-1">Key Terms:</h3>
            <ul className="list-disc list-inside text-gray-300">
              {lessons[selectedLesson].terms.map((term, idx) => (
                <li key={idx}>{term}</li>
              ))}
            </ul>
            <Button
              className="mt-4 bg-cyan-700 hover:bg-cyan-600"
              onClick={() => setSelectedLesson(null)}
            >
              Back to Lessons
            </Button>
          </div>
        )}
      </div>
    </div>
  );
}
